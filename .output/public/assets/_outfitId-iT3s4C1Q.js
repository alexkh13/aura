import{u as y,d as b,r as n,j as e,S as c,L as f}from"./main-DwSGQJQP.js";import{i as j,j as p}from"./useData-CfHr73R5.js";import{C as k}from"./chevron-left-BaNQVTVO.js";import{S as N,E as v}from"./square-pen-BMTE93WH.js";import{T as w}from"./trash-2-DjgZj84f.js";function I(){const a=y(),{outfitId:d}=b.useParams(),{data:r,isLoading:x,error:m}=j(d),h=p(),[s,i]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>{function t(o){l.current&&!l.current.contains(o.target)&&i(!1)}if(s)return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[s]);const u=async()=>{if(confirm("Are you sure you want to delete this outfit? This action cannot be undone."))try{await h.mutateAsync(d),a({to:"/outfits"})}catch(t){console.error("Failed to delete outfit:",t),alert("Failed to delete outfit")}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading outfit..."})]})}):m||!r?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Outfit not found"}),e.jsx("button",{onClick:()=>a({to:"/outfits"}),className:"mt-4 text-blue-600 dark:text-blue-400 hover:underline",children:"Back to Outfits"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-20",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-4 sticky top-16 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>a({to:"/outfits"}),className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 font-medium",children:[e.jsx(k,{className:"w-5 h-5"}),"Outfit Details"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>a({to:"/outfits/$outfitId/edit",params:{outfitId:d}}),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Edit",children:e.jsx(N,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{className:"relative",ref:l,children:[e.jsx("button",{onClick:()=>i(!s),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"More options",children:e.jsx(v,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),s&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-20",children:e.jsxs("button",{onClick:()=>{i(!1),u()},className:"w-full px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Delete Outfit"]})})]})]})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:r.items&&r.items.length>0?e.jsx("div",{className:`grid gap-2 ${r.items.length===1?"grid-cols-1":r.items.length===2||r.items.length===3?"grid-cols-2":"grid-cols-3"}`,children:r.items.slice(0,9).map((t,o)=>{const g=r.items.length===3&&o===0;return e.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-blue-200 dark:border-blue-700 ${g?"col-span-2":""} ${r.items.length===1?"h-80":g?"h-56":r.items.length===2?"h-64":"h-40"}`,children:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700",children:t.hasPhoto&&t.photo?e.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover"}):e.jsx(c,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})})},t.id)})}):e.jsxs("div",{className:"flex flex-col items-center gap-6 py-12",children:[e.jsx(c,{className:"w-20 h-20 text-blue-400 dark:text-blue-600"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"No items in this outfit yet"})]})}),e.jsxs("section",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:r.name}),e.jsxs("div",{className:"space-y-3",children:[r.occasion&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Occasion:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:r.occasion})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Season:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:r.season})]}),r.weather&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weather:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:r.weather})]}),r.tags&&e.jsx("div",{className:"py-2",children:e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tags: ",r.tags]})})]}),r.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Notes:"}),e.jsx("div",{className:"min-h-[60px] bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-gray-700 dark:text-gray-300 text-sm",children:r.notes})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["Items in this Outfit (",r.items?.length||0,")"]}),r.items&&r.items.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-3",children:r.items.map(t=>e.jsxs(f,{to:"/items/$itemId",params:{itemId:t.id},className:"bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-lg h-32 mb-3 flex items-center justify-center overflow-hidden",children:t.hasPhoto&&t.photo?e.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover"}):e.jsx(c,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),e.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 text-center truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 text-center truncate",children:t.category})]},t.id))}):e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No items in this outfit yet"})})]})]})]})})}export{I as component};
