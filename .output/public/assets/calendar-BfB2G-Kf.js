import{u as M,r as m,j as e,S as L,L as y}from"./main-DwSGQJQP.js";import{d as T,c as E,u as F}from"./useData-CfHr73R5.js";import{O as R}from"./OutfitThumbnail-DbX7iLcp.js";import{C as f}from"./chevron-left-BaNQVTVO.js";import{C as $}from"./chevron-right-C1m4zetV.js";function q(){const p=M(),[r,u]=m.useState(new Date),[n,k]=m.useState(null),{data:h}=T(),{data:j}=E(),{data:N,isLoading:v}=F(),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=m.useMemo(()=>{const t=r.getFullYear(),d=r.getMonth(),l=new Date(t,d,1),c=new Date(t,d+1,0).getDate(),g=l.getDay(),x=[];for(let s=0;s<g;s++)x.push({date:null,dateStr:null});for(let s=1;s<=c;s++){const b=new Date(t,d,s),I=b.toISOString().split("T")[0];x.push({date:b,dateStr:I})}return x},[r]),o=n?h?.find(t=>t.id===n):null,a=o?.outfitId?j?.find(t=>t.id===o.outfitId):null,w=()=>{u(new Date(r.getFullYear(),r.getMonth()-1,1))},C=()=>{u(new Date(r.getFullYear(),r.getMonth()+1,1))},O=r.toLocaleDateString("en-US",{month:"long",year:"numeric"});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 pb-20",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-4 sticky top-16 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>p({to:"/"}),className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 font-medium",children:[e.jsx(f,{className:"w-5 h-5"}),"Calendar"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:w,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:e.jsx(f,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 min-w-[120px] text-center",children:O}),e.jsx("button",{onClick:C,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:e.jsx($,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs("section",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-3",children:S.map(t=>e.jsx("div",{className:"text-center text-xs font-semibold text-gray-600 dark:text-gray-400",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:D.map((t,d)=>{const l=t.dateStr&&h?.some(g=>g.id===t.dateStr),i=n===t.dateStr,c=t.date&&t.date.toDateString()===new Date().toDateString();return e.jsxs("div",{onClick:()=>t.dateStr&&k(t.dateStr),className:`aspect-square flex items-center justify-center rounded-lg text-sm font-medium cursor-pointer relative
                      ${t.date?"hover:bg-blue-50 dark:hover:bg-blue-950":""}
                      ${i?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}
                      ${c&&!i?"ring-2 ring-blue-500 dark:ring-blue-400":""}
                    `,children:[t.date?.getDate(),l&&e.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2",children:e.jsx(L,{className:"w-3 h-3 text-blue-500 dark:text-blue-400"})})]},d)})})]}),n&&e.jsxs("section",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),a?e.jsxs("div",{children:[e.jsx(y,{to:"/outfits/$outfitId",params:{outfitId:a.id},children:e.jsxs("div",{className:"flex gap-4 mb-4 hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded-lg transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(R,{itemIds:a.itemIds,items:N,size:"small",loading:v})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Season: ",a.season]}),a.occasion&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Occasion: ",a.occasion]})]})]})}),o.notes&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:o.notes})})]}):e.jsx("div",{className:"mb-4 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No outfit scheduled for this date"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{to:"/outfits",className:"flex-1 py-2 px-4 bg-blue-600 dark:bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 dark:hover:bg-blue-700 transition-colors text-center",children:a?"Change Outfit":"Add Outfit"}),a&&e.jsx("button",{onClick:()=>{alert("Remove outfit functionality coming soon!")},className:"flex-1 py-2 px-4 bg-white dark:bg-gray-800 border-2 border-red-600 dark:border-red-600 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-gray-700 transition-colors",children:"Remove Outfit"})]})]})]})]})})}export{q as component};
